{% extends 'base.html' %}
{% load static %}
{% block title %} | PROFILE {% endblock %}
{% block content %}
<style>
    @media (max-width:550px){
        .wrapper-container{
            margin: 0.5rem;
            padding: 0;
            padding-bottom: 2rem;
            
            
        }
        .wrapper-container .section-top{
            width: 100%
        }
        .wrapper-container .section-top h1{
            font-size: 18px;
        }
        .wrapper-container .section-content .form-group{
            margin: 0.5rem;
        }
        .wrapper-container .section-content input[type="submit"]{
            margin: 0.5rem;
        }
        .wrapper-container .section-content input{
           padding: 8px 2px;
           
        }
        .wrapper-container .section-top button{
            margin-left: 6rem;
            margin-right: 0;
        
        }
    }
    .dashbord{
        height: 100vh;
        padding-bottom: 5rem;
    }
</style>
<section class="wrapper">
    <div class="wrapper-sidebar">
     {% include 'partials/_sidebar.html' %}   
    </div>
    <div class="wrapper-container">
       <div class="section-update">
        <div class="section-top">
            <h1>Update Profile</h1>
            <button class="edit">Edit</button>
        </div>
        <div class="section-content">
            <form action="{% url 'update_profile' %}" method="POST">
                {% csrf_token %}
            <div class="form-group">
                <label>Username:</label><p>Note!! you can't update the username</p>
                <input type="text" disabled  name="username" value="{{ user.username }}" readonly class="form-control" required>
            </div>
            <div class="form-group">
                <label>Email:</label>
                <input type="text" disabled name="email" value="{{ user.email }}" class="form-control" required>
            </div>
            <div class="form-group">
                <label>Age:</label>
                <input type="number" disabled name="age" value="{{ user.age }}" class="form-control" required>
            </div>
            <div class="form-group">
                <label>Country:</label>
                <input type="text" disabled name="country" value="{{ user.country }}" class="form-control" required>
            </div>
            <div class="form-group">
                <label>Country:</label>
                <input type="text" disabled name="city" value="{{ user.city }}" class="form-control" required>
            </div>
            <input type="submit" value="Update now">
        </form>
        </div>
       </div>
    </div>
    <script>
       const edit =  document.querySelector('.edit')
       const form_controls = document.querySelectorAll('.form-control')
       edit.addEventListener('click',()=>{
        form_controls.forEach((form_control)=>{
            form_control.removeAttribute('disabled')
        })
       })
       
       

    </script>
</section>

{% endblock %}
